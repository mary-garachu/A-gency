{"version":3,"names":["_i18n","require","_blocks","_components","_data","_useBindingsAttributes","_lockUnlock","_inspectorControls","_interopRequireDefault","_jsxRuntime","BlockBindingsPanel","name","metadata","bindings","sources","useSelect","select","_sources","unlock","blocksStore","getAllBlockBindingsSources","filteredBindings","Object","keys","forEach","key","canBindAttribute","source","length","jsx","default","children","PanelBody","title","__","className","BaseControl","help","__experimentalItemGroup","isBordered","isSeparated","size","map","__experimentalItem","jsxs","__experimentalHStack","label","exports","_default","edit","attributeKeys","hasSupport"],"sources":["@wordpress/block-editor/src/hooks/block-bindings.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { store as blocksStore } from '@wordpress/blocks';\nimport {\n\tBaseControl,\n\tPanelBody,\n\t__experimentalHStack as HStack,\n\t__experimentalItemGroup as ItemGroup,\n\t__experimentalItem as Item,\n} from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { canBindAttribute } from '../hooks/use-bindings-attributes';\nimport { unlock } from '../lock-unlock';\nimport InspectorControls from '../components/inspector-controls';\n\nexport const BlockBindingsPanel = ( { name, metadata } ) => {\n\tconst { bindings } = metadata || {};\n\tconst { sources } = useSelect( ( select ) => {\n\t\tconst _sources = unlock(\n\t\t\tselect( blocksStore )\n\t\t).getAllBlockBindingsSources();\n\n\t\treturn {\n\t\t\tsources: _sources,\n\t\t};\n\t}, [] );\n\n\tif ( ! bindings ) {\n\t\treturn null;\n\t}\n\n\t// Don't show not allowed attributes.\n\t// Don't show the bindings connected to pattern overrides in the inspectors panel.\n\t// TODO: Explore if this should be abstracted to let other sources decide.\n\tconst filteredBindings = { ...bindings };\n\tObject.keys( filteredBindings ).forEach( ( key ) => {\n\t\tif (\n\t\t\t! canBindAttribute( name, key ) ||\n\t\t\tfilteredBindings[ key ].source === 'core/pattern-overrides'\n\t\t) {\n\t\t\tdelete filteredBindings[ key ];\n\t\t}\n\t} );\n\n\tif ( Object.keys( filteredBindings ).length === 0 ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<InspectorControls>\n\t\t\t<PanelBody\n\t\t\t\ttitle={ __( 'Attributes' ) }\n\t\t\t\tclassName=\"components-panel__block-bindings-panel\"\n\t\t\t>\n\t\t\t\t<BaseControl\n\t\t\t\t\thelp={ __( 'Attributes connected to various sources.' ) }\n\t\t\t\t>\n\t\t\t\t\t<ItemGroup isBordered isSeparated size=\"large\">\n\t\t\t\t\t\t{ Object.keys( filteredBindings ).map( ( key ) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Item key={ key }>\n\t\t\t\t\t\t\t\t\t<HStack>\n\t\t\t\t\t\t\t\t\t\t<span>{ key }</span>\n\t\t\t\t\t\t\t\t\t\t<span className=\"components-item__block-bindings-source\">\n\t\t\t\t\t\t\t\t\t\t\t{ sources[\n\t\t\t\t\t\t\t\t\t\t\t\tfilteredBindings[ key ].source\n\t\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t\t\t? sources[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfilteredBindings[ key ]\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.source\n\t\t\t\t\t\t\t\t\t\t\t\t  ].label\n\t\t\t\t\t\t\t\t\t\t\t\t: filteredBindings[ key ]\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.source }\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</HStack>\n\t\t\t\t\t\t\t\t</Item>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} ) }\n\t\t\t\t\t</ItemGroup>\n\t\t\t\t</BaseControl>\n\t\t\t</PanelBody>\n\t\t</InspectorControls>\n\t);\n};\n\nexport default {\n\tedit: BlockBindingsPanel,\n\tattributeKeys: [ 'metadata' ],\n\thasSupport() {\n\t\treturn true;\n\t},\n};\n"],"mappings":"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","ignoreList":[]}